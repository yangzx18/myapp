(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{272:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);a(262);var n=a(433),i=a.n(n),s=(a(209),a(201)),r=a.n(s),o=(a(224),a(260)),c=a.n(o),l=(a(269),a(430)),u=a.n(l),m=(a(225),a(258)),d=a.n(m),f=a(57),k=a(0),p=a.n(k),g=(a(272),a(211)),h=a.n(g);var b=function(e){var t=Object(k.useState)(!1),a=Object(f.a)(t,2),n=a[0],i=a[1];Object(k.useEffect)(function(){e.hasVisisted&&i(!0)},[e.hasVisisted]);var s=n?"visisted linkshow":"linkshow";return p.a.createElement("span",{onClick:function(){var t;h.a.getItem("todayVisisted").then(function(a){(t=a).add(e.name),h.a.setItem("todayVisisted",t)}),i(!0),e.handleClicked()},className:s},e.name)},E=(a(200),a(37)),v=a.n(E),y=(a(95),a(58)),O=a.n(y),w=a(276),C=a.n(w),j=a(294),N=a.n(j);a(214);var K=a(215),S=a.n(K),x=function(e){return p.a.createElement(S.a,{title:e.title,visible:e.visible,onOk:e.onOk,onCancel:e.onCancel,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},e.children)},I=(a(238),a(244)),D=a.n(I),V=(a(202),a(208)),L=a.n(V),G=a(87),T=(a(239),a(240)),F=a.n(T),q=F.a.Option,z=D.a.create()(function(e){var t=function(){e.form.setFieldsValue({name:"",url:""})};Object(k.useEffect)(function(){e.form.setFieldsValue({kindName:e.curKind})},[e.curKind]),Object(k.useEffect)(function(){if("change"===e.type){var t=e.name,a=e.url,n=e.kindName;e.form.setFieldsValue({name:t,url:a,kindName:n})}},e.name);var a=e.form.getFieldDecorator;return p.a.createElement(S.a,{visible:e.visible,onCancel:e.close,title:e.title,onOk:function(){e.form.validateFieldsAndScroll(function(a,n){if(!a){if("change"===e.type){var i=Object(G.a)({},n,{order:e.order,changeKind:"false"});return e.curKind!==n.kindName&&(i.changeKind="true",i.oldKindName=e.curKind),void function(e){return C.a.post("/api/linkbook/links/change",N.a.stringify(e))}(i).then(function(a){"ok"===a.data.message?(O.a.success("\u4fee\u6539\u6210\u529f"),e.close(),e.getLinks(),e.offManageStatus(),t()):O.a.error(a.data.message)})}(function(e){return C.a.post("/api/linkbook/links/add",N.a.stringify(e))})(n).then(function(a){"ok"===a.data.message?(O.a.success("\u6dfb\u52a0\u6210\u529f"),e.close(),e.getLinks(),t()):O.a.error(a.data.message)})}})},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},p.a.createElement(D.a,null,p.a.createElement(D.a.Item,{label:"\u4e66\u7b7e\u540d"},a("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4e66\u7b7e\u540d"}]})(p.a.createElement(L.a,null))),p.a.createElement(D.a.Item,{label:"\u7f51\u5740"},a("url",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7f51\u5740"}]})(p.a.createElement(L.a,null))),p.a.createElement(D.a.Item,{label:"\u5206\u7c7b"},a("kindName",{})(p.a.createElement(F.a,{style:{width:150}},e.kindsData.map(function(e,t){return p.a.createElement(q,{value:e[0],key:t},e[0])}))))))});var A=function(e){var t=Object(k.useState)(!1),a=Object(f.a)(t,2),n=a[0],i=a[1],s=Object(k.useState)(!1),r=Object(f.a)(s,2),o=r[0],c=r[1];return p.a.createElement("div",{className:"link-manage-box",style:{position:"relative",marginRight:"1rem",marginBottom:"1rem"}},p.a.createElement(v.a,{type:"form",className:"pointed",style:{position:"absolute",left:"0.1rem",top:"2rem",color:"#40a9ff"},onClick:function(){return c(!0)}}),p.a.createElement(v.a,{type:"left",className:"pointed",style:{position:"absolute",left:"0.1rem",top:"0.2rem",color:"#faad14"},onClick:function(){var t,a=e.name,n=e.order,i=e.kindName;(t={name:a,order:n,kindName:i},C.a.post("/api/linkbook/links/up",N.a.stringify(t))).then(function(t){"ok"===t.data.message&&(e.getLinks(),e.handleClicked())})}}),p.a.createElement("span",{className:"linkmanage",onClick:e.handleClicked},e.name),p.a.createElement(v.a,{type:"right",className:"pointed",onClick:function(){var t,a=e.name,n=e.order,i=e.kindName;(t={name:a,order:n,kindName:i},C.a.post("/api/linkbook/links/down",N.a.stringify(t))).then(function(t){"ok"===t.data.message&&(e.getLinks(),e.handleClicked())})},style:{position:"absolute",right:"0px",top:"0.2rem",color:"#faad14"}}),p.a.createElement(v.a,{type:"delete",className:"pointed",onClick:function(){return i(!0)},style:{position:"absolute",right:"0px",top:"2rem",color:"#ff4d4f"}}),p.a.createElement(x,{title:"\u5220\u9664\u4e66\u7b7e",visible:n,onCancel:function(){return i(!1)},onOk:function(){var t;(t={kindName:e.kindName,order:e.order,name:e.name},C.a.post("/api/linkbook/links/delete",N.a.stringify(t))).then(function(t){"ok"===t.data.message&&(O.a.success("\u5220\u9664\u6210\u529f"),e.getLinks(),i(!1),e.handleClicked())})}},p.a.createElement("p",null,"\u4f60\u786e\u8ba4\u5220\u9664\u8be5\u4e66\u7b7e\u5417")),p.a.createElement(z,{visible:o,title:"\u4fee\u6539\u4e66\u7b7e",close:function(){return c(!1)},curKind:e.curKind,kindsData:e.kindsData,order:e.order,offManageStatus:e.handleClicked,getLinks:e.getLinks,type:"change",name:e.name,url:e.url,kindName:e.kindName}))};var B=function(e){var t=Object(k.useState)("show"),a=Object(f.a)(t,2),n=a[0],i=a[1],s=function(){"show"===e.status?window.open(e.url):i("manage"===n?"show":"manage")};return Object(k.useEffect)(function(){"show"===e.status&&i("show")},[e.status]),"show"===n||"show"===e.status?p.a.createElement(b,{name:e.name,url:e.url,handleClicked:s,hasVisisted:e.hasVisisted}):"manage"===n&&"manage"===e.status?p.a.createElement(A,{name:e.name,handleClicked:s,order:e.order,kindName:e.kindName,getLinks:e.getLinks,url:e.url,curKind:e.curKind,kindsData:e.kindsData}):void 0};var M=function(e){var t="true"===e.isCurKind?"kindshow curKind":"kindshow";return p.a.createElement("span",{onClick:function(){e.handleClicked()},className:t,style:{position:"relative"}},e.name)};var J=D.a.create()(function(e){var t=e.form.getFieldDecorator,a=function(t){O.a.success(t),e.close(),e.reGetKinds()};return Object(k.useEffect)(function(){"change"===e.type&&e.form.setFieldsValue({kindName:e.name})},[e.visible]),p.a.createElement(S.a,{visible:e.visible,onCancel:e.close,title:e.title,onOk:function(){e.form.validateFieldsAndScroll(function(t,n){if(!t){if("change"===e.type)return void(i={kindName:n.kindName,oldName:e.name},C.a.post("/api/linkbook/kinds/rename",N.a.stringify(i))).then(function(e){"ok"===e.data.message&&a("\u4fee\u6539\u6210\u529f")});(function(e){return C.a.post("/api/linkbook/kinds/add",N.a.stringify(e))})(n).then(function(e){var t;"ok"===e.data.message?a("\u6dfb\u52a0\u6210\u529f"):(t=e.data.message,O.a.error(t))})}var i})},okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},p.a.createElement(D.a,null,p.a.createElement(D.a.Item,{label:"\u7c7b\u522b\u540d"},t("kindName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u7c7b\u540d"}]})(p.a.createElement(L.a,null)))))}),Q=function(e){var t=Object(k.useState)(!1),a=Object(f.a)(t,2),n=a[0],i=a[1],s=Object(k.useState)(!1),r=Object(f.a)(s,2),o=r[0],c=r[1];return p.a.createElement("div",{className:"kind-manage-box"},p.a.createElement(v.a,{type:"form",className:"pointed",onClick:function(){return c(!0)},style:{position:"absolute",left:"0.1rem",color:"#40a9ff",top:"2rem"}}),p.a.createElement(v.a,{type:"left",className:"pointed",onClick:function(){var t;(t={kindName:e.name,order:e.order},C.a.post("/api/linkbook/kinds/up",N.a.stringify(t))).then(function(t){"ok"===t.data.message&&(e.reGetKinds(),e.handleClicked())})},style:{position:"absolute",left:"0.1rem",top:"0.2rem",color:"#faad14"}}),p.a.createElement("span",{className:"kindmanage",onClick:e.handleClicked},e.name),p.a.createElement(v.a,{type:"right",className:"pointed",onClick:function(){var t;(t={kindName:e.name,order:e.order},C.a.post("/api/linkbook/kinds/down",N.a.stringify(t))).then(function(t){"ok"===t.data.message&&(e.reGetKinds(),e.handleClicked())})},style:{position:"absolute",top:"0.2rem",color:"#faad14"}}),p.a.createElement(v.a,{type:"delete",className:"pointed",onClick:function(){return i(!0)},style:{position:"absolute",color:"#ff4d4f",top:"2rem"}}),p.a.createElement(x,{title:"\u5220\u9664\u5206\u7c7b",visible:n,onCancel:function(){return i(!1)},onOk:function(){var t;(t={kindName:e.name,order:e.order},C.a.post("/api/linkbook/kinds/delete",N.a.stringify(t))).then(function(t){"ok"===t.data.message&&(O.a.success("\u5220\u9664\u6210\u529f"),i(!1),e.reGetKinds(),e.handleClicked())})}},p.a.createElement("p",null,"\u4f60\u786e\u8ba4\u5220\u9664\u8be5\u5206\u7c7b\u5417?"),p.a.createElement("p",{style:{color:"#ff7875"}},"\u5220\u9664\u5206\u7c7b\u5c06\u5220\u9664\u8be5\u5206\u7c7b\u4e0b\u7684\u6240\u6709\u4e66\u7b7e\uff01")),p.a.createElement(J,{visible:o,close:function(){return c(!1)},reGetKinds:e.reGetKinds,type:"change",name:e.name,title:"\u4fee\u6539\u7c7b\u522b"}))},P=function(e){var t=Object(k.useState)("show"),a=Object(f.a)(t,2),n=a[0],i=a[1],s=function(){"show"===e.status?e.clicked():i("manage"===n?"show":"manage")};return Object(k.useEffect)(function(){"show"===e.status&&i("show")},[e.status]),"show"===n||"show"===e.status?p.a.createElement(M,{name:e.name,handleClicked:s,isCurKind:e.isCurKind}):"manage"===n&&"manage"===e.status?p.a.createElement(Q,{name:e.name,handleClicked:s,order:e.order,reGetKinds:e.reGetKinds,isCurKind:e.isCurKind}):void 0},R=F.a.Option,_={baidu:"https://www.baidu.com/s?wd=",bing:"https://cn.bing.com/search?q=",sougou:"http://www.sogou.com/web?query=",weixin:"https://weixin.sogou.com/weixin?type=2&query=",google:"https://www.google.com.hk/search?q="},H=function(){var e=Object(k.useState)("baidu"),t=Object(f.a)(e,2),a=t[0],n=t[1],i=Object(k.useState)(""),s=Object(f.a)(i,2),r=s[0],o=s[1];Object(k.useEffect)(function(){var e=localStorage.getItem("searchEngineer");e||(localStorage.setItem("searchEngineer","baidu"),n("baidu")),n(e)},[]);var l=function(){var e=_[a]+r;window.open(e),o("")};return p.a.createElement(d.a,{className:"search",onKeyPress:function(e){13===e.which&&l()}},p.a.createElement(c.a,{xxl:{span:2,offset:5},lg:{span:3,offset:3},sm:{span:3}},p.a.createElement(F.a,{onSelect:function(e){return function(e){localStorage.setItem("searchEngineer",e),n(e)}(e)},maxTagTextLength:6,value:a,size:"large"},p.a.createElement(R,{value:"baidu"},"\u767e\u5ea6"),p.a.createElement(R,{value:"bing"},"\u5fc5\u5e94"),p.a.createElement(R,{value:"weixin"},"\u5fae\u4fe1"),p.a.createElement(R,{value:"sougou"},"\u641c\u72d7"),p.a.createElement(R,{value:"google"},"\u8c37\u6b4c"))),p.a.createElement(c.a,{xxl:{span:12,offset:0},lg:{span:15},sm:{span:21}},p.a.createElement(L.a,{onChange:function(e){o(e.target.value)},value:r,size:"large",suffix:p.a.createElement(v.a,{type:"search",size:"large",onClick:l})})))},U=a(35),W=a(437);t.default=function(){var e=Object(k.useState)(!1),t=Object(f.a)(e,2),a=t[0],n=t[1],s=Object(k.useState)(!1),o=Object(f.a)(s,2),l=o[0],m=o[1],g=Object(k.useState)(!1),b=Object(f.a)(g,2),E=b[0],v=b[1],y=Object(k.useState)(!1),O=Object(f.a)(y,2),w=O[0],j=O[1],N=function(){var e=Object(k.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1];return[a,function(e){C.a.get("/api/linkbook/links",{params:{kindName:e}}).then(function(e){n(e.data.data)})}]}(),K=Object(f.a)(N,2),S=K[0],x=K[1],I=function(){var e=Object(k.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],i=function(){C.a.get("/api/linkbook/kinds").then(function(e){n(e.data.data)})};return Object(k.useEffect)(function(){i()},[]),[a,i]}(),D=Object(f.a)(I,2),V=D[0],L=D[1],G=Object(k.useState)([]),T=Object(f.a)(G,2),F=T[0],q=T[1],A=Object(k.useContext)(U.a),M=A.state.curKind;Object(k.useEffect)(function(){V[0]&&""===M&&V[0][0]&&Q(V[0][0])},[V]),Object(k.useEffect)(function(){""!==M&&x(M),R()},[M]);var Q=function(e){A.dispatch({type:"SET_KINDNAME",value:e})},R=function(){h.a.getItem("todayVisisted").then(function(e){null===e?(h.a.setItem("todayVisisted",new Set),q(new Set)):h.a.getItem("visistedDate").then(function(t){var a=(new Date).getDate();if(a!==t)return q(new Set),h.a.setItem("todayVisisted",new Set),void h.a.setItem("visistedDate",a);q(e)})})};Object(k.useEffect)(function(){F instanceof Set||R()},[F]);var _=a?"manage":"show",X=l?"manage":"show";return p.a.createElement(d.a,null,p.a.createElement(c.a,{xxl:{span:16,offset:4},md:{span:22,offset:1},lg:{span:20,offset:2}},p.a.createElement(d.a,null,p.a.createElement(H,null)),p.a.createElement(d.a,{className:"kinds"},p.a.createElement(d.a,{className:"manage",style:{marginBottom:"1rem"}},p.a.createElement(c.a,{lg:{span:2,offset:22},xxl:{span:2,offset:22},sm:{span:6,offset:18}},p.a.createElement(u.a,{onClick:function(){m(!l)},checkedChildren:"\u7ba1\u7406",unCheckedChildren:"\u7ba1\u7406"}))),p.a.createElement(d.a,{type:"flex"},p.a.createElement(W.a,{interval:100},V.map(function(e,t){return e[0]!==M?p.a.createElement(P,{name:e[0],status:X,order:e[1],reGetKinds:L,clicked:function(){return Q(e[0])},key:e[0]}):p.a.createElement(P,{name:e[0],isCurKind:"true",status:X,order:e[1],reGetKinds:L,clicked:function(){return Q(e[0])},key:e[0]})}),l&&p.a.createElement(r.a,{icon:"plus",onClick:function(){j(!0)},style:{marginTop:"-0.3rem"}})))),p.a.createElement(i.a,null),p.a.createElement(d.a,{className:"links"},p.a.createElement(d.a,{className:"manage",style:{marginBottom:"1rem"}},p.a.createElement(c.a,{lg:{span:3,offset:21},xxl:{span:2,offset:22},sm:{span:6,offset:18}},p.a.createElement(u.a,{onClick:function(){n(!a)},checkedChildren:"\u7ba1\u7406",unCheckedChildren:"\u7ba1\u7406"}))),p.a.createElement(W.a,{duration:300,type:["right","left"],ease:["easeOutQuart","easeInOutQuart"]},p.a.createElement(d.a,{type:"flex",key:M},S.map(function(e,t){var a=F instanceof Set&&!!F.has(e[0]);return p.a.createElement(B,{name:e[0],url:e[1],status:_,key:e[0],order:e[3],kindName:e[2],getLinks:function(){return x(M)},curKind:M,kindsData:V,hasVisisted:a})}),0!==S.length||a?"":p.a.createElement("p",null,"\u4e66\u7b7e\u4e3a\u7a7a\uff0c\u70b9\u51fb\u53f3\u65b9\u7ba1\u7406\u6dfb\u52a0\u4e66\u7b7e\uff5e"),a&&p.a.createElement(r.a,{icon:"plus",onClick:function(){v(!0)},style:{marginTop:"0.6rem"}}))))),p.a.createElement(J,{visible:w,close:function(){return j(!1)},reGetKinds:L,title:"\u6dfb\u52a0\u7c7b\u522b"}),p.a.createElement(z,{visible:E,title:"\u6dfb\u52a0\u4e66\u7b7e",close:function(){return v(!1)},curKind:M,kindsData:V,getLinks:function(){return x(M)}}))}}}]);